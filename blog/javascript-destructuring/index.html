<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Futura','Trebuchet MS','Arial',sans-serif;box-sizing:border-box;overflow-y:scroll;background:linear-gradient( 120deg, hsla(45, 99%, 97%, 0.7) 0%, hsla(189, 100%, 96%, 0.5) 50%, hsla(335, 100%, 95%, 0.5) 100% );}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:black;font-family:'Futura','Trebuchet MS','Arial',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'arial rounded mt bold','Futura','Trebuchet MS','Arial',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'arial rounded mt bold','Futura','Trebuchet MS','Arial',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'arial rounded mt bold','Futura','Trebuchet MS','Arial',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'arial rounded mt bold','Futura','Trebuchet MS','Arial',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'arial rounded mt bold','Futura','Trebuchet MS','Arial',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:1.75rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.875rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:calc(1.75rem - 1px);padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0px -0.19444rem 0px 0px #00ddff inset;color:black;text-decoration:none;transition:box-shadow 0.3s;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}html, body{min-width:100%;min-height:100%;}main{margin:2.625rem 0;}.card{position:relative;padding:1.75rem;margin:1.75rem;border-radius:24px;box-shadow:-8px -6px 80px 0 inset hsla(0, 0%, 100%, 0.38);}.cv .card h4{margin-bottom:0.5em;}.cv p{margin-bottom:0;}.cv ul{margin-top:calc(1.75rem / 2);}.qrlink{position:absolute !important;top:1.75rem;right:1.75rem;display:none !important;}h1, h2, h3, h4, h5, h6{font-family:arial rounded mt bold,Futura,Trebuchet MS,Arial,sans-serif;}header h1, header h2, header h3, header h4, header h5, header h6, main.cv h1, main.cv h2, main.cv h3, main.cv h4, main.cv h5, main.cv h6{margin-top:0;}h1 > a, h2 > a, h3 > a, h4 > a, h5 > a, h6 > a{box-shadow:0px -0.19444rem 0px 0px #00ddff inset;}a.external-link{box-shadow:0px -0.19444rem 0px 0px hsla(334, 100%, 45%, 1) inset;}a:hover, a:focus{box-shadow:0px -1.75rem 0px 0px #ffc800 inset;color:black;}</style><style data-href="/styles.f398cc30f23c142b3881.css">.card:after,.card:before{content:"";position:absolute;z-index:-1}.card:before{width:calc(100% + 4px);height:calc(100% + 4px);top:-2px;left:-2px;background:linear-gradient(156deg,hsla(0,0%,100%,.88),hsla(0,0%,100%,.88) 35%,hsla(0,0%,100%,0) 59%,hsla(0,0%,75%,.38) 84%,hsla(0,0%,60%,.18));border-radius:26px;box-shadow:-16px -16px 40px 0 hsla(0,0%,100%,.8),2px 2px 8px -8px hsla(0,0%,66.3%,.5686274509803921),16px 4px 64px 0 hsla(0,0%,66%,.6)}.card:after{width:100%;height:100%;top:0;left:0;background:rgba(255,250,252,.7);border-radius:24px}@media screen and (max-width:375px){.card{margin:1.75rem .75rem}}@media screen and (max-width:512px){.cv p{margin-bottom:.875rem}}@media screen and (min-width:512px){.cv header.card a:first-of-type,.cv header.card h3:first-of-type{display:none}.cv .card h4{line-height:1.75;margin-bottom:0}.cv .card>div>div{display:grid;grid-template-columns:1fr 2fr;grid-gap:0 1em}.cv ul,.cv ul li:last-of-type{margin-bottom:0}}@media print{html{font-size:12px}#___gatsby>div>div{max-width:unset!important}.card,.card:after,.card:before,a,html{background:none!important;box-shadow:none!important;margin-bottom:0;padding-bottom:0}main{margin:0}.card>h3{page-break-after:avoid}.card>div{page-break-before:avoid}.card>div>div{page-break-inside:avoid}.cv .card>div>div{display:grid;grid-template-columns:1fr 2fr;grid-gap:0 1em}.cv .card h4{line-height:1.75}.cv .card h4,.cv ul,.cv ul li:last-of-type{margin-bottom:0}.cv hr{margin:calc(.5em - 1px) 0}.qrlink{display:block!important}footer,header a{display:none}}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.25.2"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Sheb rocks! 🤘</title><meta data-react-helmet="true" name="description" content="JavaScript introduced destructuring with ES6 back in 2015, but only recently I&#x27;ve grown really fond of it."/><meta data-react-helmet="true" property="og:title" content="JavaScript destructuring"/><meta data-react-helmet="true" property="og:description" content="JavaScript introduced destructuring with ES6 back in 2015, but only recently I&#x27;ve grown really fond of it."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Michael Habeth"/><meta data-react-helmet="true" name="twitter:title" content="JavaScript destructuring"/><meta data-react-helmet="true" name="twitter:description" content="JavaScript introduced destructuring with ES6 back in 2015, but only recently I&#x27;ve grown really fond of it."/><link as="script" rel="preload" href="/webpack-runtime-9ac427abb09d4be9c9a3.js"/><link as="script" rel="preload" href="/styles-e383b929d2d4095ae339.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-645b67282b615fc15fff.js"/><link as="script" rel="preload" href="/commons-76afa141c8b5a2bda2e8.js"/><link as="script" rel="preload" href="/ba13057dd6ef35feb6701f6a92c63e41c4ae4823-aad2a2b75ffa58357cfb.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-a894d537987971cfbea1.js"/><link as="fetch" rel="preload" href="/page-data/blog/javascript-destructuring/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2880777621.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This page might bug out without JavaScript.</noscript><div id="___gatsby-background" aria-hidden="true"></div><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:52.5rem"><header class="card"><h1>JavaScript destructuring</h1><a href="/">← Home</a></header><main class="card"><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">January 25, 2020<!-- --> <!-- -->[ <a href="/tags/js">JS</a>, <a href="/tags/web">Web</a> ]</p><div><h2>Table of Contents</h2><ul>
<li><a href="#why-should-i-care">Why should I care?</a></li>
<li>
<p><a href="#destructuring-syntax">Destructuring syntax</a></p>
<ul>
<li><a href="#arrays">Arrays</a></li>
<li>
<p><a href="#objects">Objects</a></p>
<ul>
<li><a href="#renaming-variables">Renaming variables</a></li>
<li><a href="#computed-property-names">Computed property names</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#default-values">Default values</a></li>
<li>
<p><a href="#spread-vs-rest-syntax">Spread vs. rest syntax</a></p>
<ul>
<li><a href="#arrays-1">Arrays</a></li>
<li><a href="#objects-1">Objects</a></li>
</ul>
</li>
<li><a href="#some-usecases">Some usecases</a></li>
<li><a href="#what-to-watch-out-for">What to watch out for</a></li>
</ul><hr /><p>Destructuring is a ES6 feature that is both loved and hated.<br>
For simplicity’s sake, I’ll be using ES and JS interchangeably. ECMAScript is the standardized <a class="external-link" href="https://tc39.es/ecma262">language specification</a> while JavaScript is the actual language implemented by different engines, for example <a class="external-link" href="https://v8.dev/">V8</a>, <a class="external-link" href="https://developer.apple.com/documentation/javascriptcore">JavaScriptCore</a> or <a class="external-link" href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey">SpiderMonkey</a>. ES6 specifically is <a class="external-link" href="https://www.ecma-international.org/ecma-262/6.0">ECMAScript 2015</a>.
One the one hand it simplifies assignments of variables in the current scope and prevents a lot of code duplication to write deeper accessor chaining (DRY - Don’t Repeat Yourself), on the other hand it also introduces more syntax a potential user would have to know.</p>
<h2 id="why-should-i-care">Why should I care?</h2>
<p>Destructuring syntax is increasingly ubiquitous in the JavaScript ecosystem.
You’ll usually see it pulling out properties of values passed to functions or from function returns.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">printEventTargetValue</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>target
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"current input: "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> printEventTargetValue<span class="token punctuation">)</span></code></pre></div>
<p>This might not have have saved us any code or made it any more readable, but if we were to use <code class="language-text">value</code> a couple of times for different purposes, we wouldn’t have to use <code class="language-text">event.target.value</code> again and again, but directly use <code class="language-text">value</code> instead.<br>
Of course that is not the only usage, but the easiest to read for now.</p>
<h2 id="destructuring-syntax">Destructuring syntax</h2>
<p>The syntax for destructuring is an assignment. As such we can use it as a <em>left-hand-side value</em> like in the example above, but can also use it in the <em>argument list</em> and shorten the example above to something like this:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">printEventTargetValue</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"current input: "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Note that this function now has <em>nested destructuring</em> instead of the chained access. We’ll get into this during the objects syntax.
Outside the <em>argument list</em> you should usually want to put <em>declaration statements</em> like <code class="language-text">const</code>, <code class="language-text">let</code> or <code class="language-text">var</code> in front of your destructuring. If you don’t and there is no declared variable in scope to be assigned to, it you will declare and assign to the <em>global scope</em>. If the variables have been declared in scope, the destructuring will write to those. Scoping and which <em>declaration statement</em> to use are whole other topics in themselves.</p>
<h3 id="arrays">Arrays</h3>
<p>Destructuring arrays is positional and as such will assign values from the destructured array to the index of the assignment variable.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a: "</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">", b: "</span> <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token comment">// prints "a: 10, b: 5"</span></code></pre></div>
<p>You don’t have to take on all values of the array.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>c<span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c: "</span> <span class="token operator">+</span> c <span class="token operator">+</span> <span class="token string">", d: "</span> <span class="token operator">+</span> d<span class="token punctuation">)</span> <span class="token comment">// prints "c: 10, d: 5"</span></code></pre></div>
<p>You can also skip values.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">,</span> e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"e: "</span> <span class="token operator">+</span> e<span class="token punctuation">)</span> <span class="token comment">// prints "e: 20"</span></code></pre></div>
<p>If the array contains another array at some point, you can also <em>nest</em> destructs. All the same rules as above apply here.  </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>g<span class="token punctuation">,</span> h<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"f: "</span> <span class="token operator">+</span> f <span class="token operator">+</span> <span class="token string">", g: "</span> <span class="token operator">+</span> g <span class="token operator">+</span> <span class="token string">", h: "</span> <span class="token operator">+</span> h<span class="token punctuation">)</span> <span class="token comment">// prints "f: 10, g: 5, h: 20"</span></code></pre></div>
<p><em>Nested destructuring</em> doesn’t have to be all the way to the end. Had we not wanted the values from the nested array, but the array instead, we could also have taken the whole nested array as the <em>right hand value</em> to be assigned from.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"i: "</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints "i: [2,3]"</span></code></pre></div>
<p>Since array destructuring is positional, we cannot destruct the nested array and the nested arrays values into different variables at the same time.</p>
<p>If you happen to try to destruct a nonexistent value out of the array, the value will be <code class="language-text">undefined</code>.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"j: "</span> <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token comment">// prints "j: undefined"</span></code></pre></div>
<p>You can also hackily swap the values of two variables using something along the lines of <code class="language-text">[x, y] = [y, x]</code>.</p>
<h3 id="objects">Objects</h3>
<p>Object destructuring is not positional, since Object properties do not have a deterministic order. Instead you pull out the desired fields. Same as with arrays, you can omit values. With objects, if you aren’t using the <em>rest operator</em>, all properties you didn’t specify will be omitted.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> k <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> k<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> l<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"k: "</span> <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token comment">// prints "k: 5"</span></code></pre></div>
<p><em>Nested destructuring</em> is also supported. Note that only the last level will actually be assigned. </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> l<span class="token punctuation">,</span> m<span class="token operator">:</span> <span class="token punctuation">{</span> n <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> l<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> m<span class="token operator">:</span> <span class="token punctuation">{</span> n<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"l: "</span> <span class="token operator">+</span> l <span class="token operator">+</span> <span class="token string">", n: "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token comment">// prints "l: 5, n: 10"</span></code></pre></div>
<p>All properties we only traversed are not assigned. If we also declare during assignment like in this example, traversed properties will also not be declared. Trying to access <code class="language-text">m</code> would cause <code class="language-text">Uncaught ReferenceError: m is not defined</code>.</p>
<p>Should we want to also assign a traversed property of the <em>right hand value</em>, we’ll have to make it a leaf in the tree.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> o<span class="token punctuation">,</span> p<span class="token punctuation">,</span> p<span class="token operator">:</span> <span class="token punctuation">{</span> q <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> o<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> p<span class="token operator">:</span> <span class="token punctuation">{</span> q<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"o: "</span> <span class="token operator">+</span> o <span class="token operator">+</span> <span class="token string">", p: "</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", q: "</span> <span class="token operator">+</span> q<span class="token punctuation">)</span> <span class="token comment">// prints "o: 5, p: {"q":10}, q: 10"</span></code></pre></div>
<p>Destructing an <code class="language-text">undefined</code> property will assign <code class="language-text">undefined</code> as value.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> r <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"r: "</span> <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token comment">// prints "r: undefined"</span></code></pre></div>
<h4 id="renaming-variables">Renaming variables</h4>
<p>During object destructuring you might want to rename a variable for readability or naming conflicts in your scope.<br>
The assigned name can be any legal variable name and will be passed after a colon, following the property name to be destructured from.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> r <span class="token operator">:</span> thisIsMyRenamedR <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> r<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"thisIsMyRenamedR: "</span> <span class="token operator">+</span> thisIsMyRenamedR<span class="token punctuation">)</span> <span class="token comment">// prints "thisIsMyRenamedR: 5"</span></code></pre></div>
<p>Variable <code class="language-text">r</code> is not assigned or declared, while the new given name <code class="language-text">thisIsMyRenamedR</code> is.<br>
The syntax for renaming is still the same if it is a nested destructuring.</p>
<p>Arrays don’t need renaming, since the destructured values are positionally named anyway.</p>
<h4 id="computed-property-names">Computed property names</h4>
<p>The <em>property accessor</em> does not have to be a <em>static key</em>, but can also be accessed with a <em>computed property name</em> as key.  </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> myComputedName <span class="token operator">=</span> <span class="token string">"some"</span> <span class="token operator">+</span> <span class="token string">"R"</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>myComputedName<span class="token punctuation">]</span><span class="token operator">:</span> thisIsMyDynamicallyAccessedR <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> someR<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"thisIsMyDynamicallyAccessedR: "</span> <span class="token operator">+</span> thisIsMyDynamicallyAccessedR<span class="token punctuation">)</span> <span class="token comment">// prints "thisIsMyDynamicallyAccessedR: 5"</span></code></pre></div>
<p>If we use a computed name as <em>property accessor</em>, we also have to rename the variable that is being assigned to. Renaming might technically be a misnomer in this case. The key we used is the string value <code class="language-text">&quot;someR&quot;</code>. Since this is a value, it makes it a <em>right-hand-side value</em> and thus not a valid variable name.</p>
<h2 id="default-values">Default values</h2>
<p>Destructuring supports default values, like we have in argumentlists.<br>
If you’re worried about missing values or broken access chains, we can assign fallback values.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>r <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> t <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token number">9</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> u<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"r: "</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">", s: "</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">", t: "</span> <span class="token operator">+</span> t <span class="token operator">+</span> <span class="token string">", u: "</span> <span class="token operator">+</span> u<span class="token punctuation">)</span> <span class="token comment">// prints "r: 5, s: 1, t: 3, u: 4"</span></code></pre></div>
<p>Default values also work for nested destructurings.</p>
<h2 id="spread-vs-rest-syntax">Spread vs. rest syntax</h2>
<p>Both spread and rest share a syntax that changes meaning depending on context. The spec doesn’t classify <code class="language-text">...</code> as an operator, but that sequence signals either a spread or rest.<br>
They also have different usage and behaviour depending on whether it’s an array or an object.</p>
<p>We can generally say that if you use <code class="language-text">...</code> and unpack <em>from</em> something it’s a <em>right-hand-side value</em> and as such the spread syntax, if you pack <em>into</em> something it’s a <em>left-hand-side value</em> and as such the rest syntax.</p>
<h3 id="arrays-1">Arrays</h3>
<p>We’ll take a look at the spread operator for arrays first.<br>
Let’s assume we have an array with multiple values and want to pass those values to a function. Said function is set to take three specific values as arguments.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a: "</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">", b: "</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">", c: "</span> <span class="token operator">+</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token function">test</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token comment">// prints "a: 1,2,3,4,5, b: undefined, c: undefined"</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">...</span>array<span class="token punctuation">)</span> <span class="token comment">// prints "a: 1, b: 2, c: 3"</span></code></pre></div>
<p>The first time we ran function <code class="language-text">test()</code> we did not spread our array and the array itself was passed as the assignment to variable <code class="language-text">a</code> on the function scope.
On the second time we used <code class="language-text">...array</code> to spread the array. We can see the variables <code class="language-text">a, b, c</code> have been assigned with the first three values of the array. The remaining array values were not assigned.</p>
<p>If we want to capture the remaining variables of an argumentlist of unknown length, we have to use the rest syntax.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a: "</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">", b: "</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">", c: "</span> <span class="token operator">+</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">...</span>array<span class="token punctuation">)</span> <span class="token comment">// prints "a: 1, b: 2, c: 3,4,5"</span></code></pre></div>
<p>In that example we <em>spread</em> <code class="language-text">array</code> into the argumentlist of <code class="language-text">test()</code> and <code class="language-text">...c</code> as the rest element was assigned the remaining variables of the spread as an array.<br>
The rest element can always only be in the last position of the argumentlist.</p>
<p>When spreading an array or multiple arrays inside array literals <code class="language-text">[]</code>, the spread arrays will be concatenated in order as a new array. <code class="language-text">[ ...[ 1, 2, 3 ], ...[ 2, 3, 4 ] ]</code> will result in the new array <code class="language-text">[ 1, 2, 3, 2, 3, 4 ]</code></p>
<h3 id="objects-1">Objects</h3>
<p>Object spread and rest can only be used in object literals <code class="language-text">{}</code> and destructuring object literals respectively.  </p>
<p>Let’s look at the rest syntax first.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> r<span class="token punctuation">,</span> <span class="token operator">...</span>s <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> r<span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"r: "</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">", s: "</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints "r: 7, s: {"a":10,"b":5,"c":20}"</span></code></pre></div>
<p>The value of <code class="language-text">r</code> has been assigned as expected, while <code class="language-text">s</code> has been assigned as a new object containing all properties that were <em>not</em> explicitly assigned.</p>
<p>Objects spread can only be used to create new objects. The spread objects will be merged in order, with overlapping properties being overwritten as <em>last writer wins</em>. <code class="language-text">{ ...{ a: 10, b: 5, c: 20}, ...{ b: 7, d: 9 }, a: 3 }</code> will result in the new object <code class="language-text">{ a: 3, b: 7, c: 20, d: 9 }</code></p>
<h2 id="some-usecases">Some usecases</h2>
<p>Destructuring reduces a lot of access chain repititions and if those accessed values are used to template, it makes those templates more concise. Renaming at the same time might also improve readability.</p>
<p>With increasing popularity of a <em>graphql query</em>, one can also see a similar syntax between the query itself and the destructured object resulting from it.</p>
<p>One example for all those points for me was the code for my <a href="/tags">tags page</a>.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> graphql <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"gatsby"</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">"../components/layout"</span>

<span class="token keyword">const</span> <span class="token function-variable function">TagsPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    allMarkdownRemark<span class="token operator">:</span> <span class="token punctuation">{</span>
      group<span class="token operator">:</span> tags
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>Layout title<span class="token operator">=</span><span class="token string">"All Tags"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>ul<span class="token operator">></span>
      <span class="token punctuation">{</span>
        tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fieldValue<span class="token operator">:</span> tagName<span class="token punctuation">,</span> totalCount <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span>
          <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>tagName<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/tags/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tagName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span>
              <span class="token punctuation">{</span>tagName<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>totalCount<span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Layout<span class="token operator">></span>

<span class="token keyword">export</span> <span class="token keyword">const</span> pageQuery <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query {
    allMarkdownRemark {
      group(field: frontmatter___tags) {
        fieldValue
        totalCount
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TagsPage</code></pre></div>
<p>Here I destructured gatsby’s <code class="language-text">pageQuery</code> <em>graphql</em> <code class="language-text">data</code> object from the <em>props object</em>, renamed <code class="language-text">group</code> to <code class="language-text">tags</code> along the way and mapping the array of tags also destructured and renamed those properties, so I could easier use them to template with <em>jsx</em>.
For such a small component it might be overkill, but since the structure makes it easier for me to read, I’ve adopted it as style for all my components on the homepage.</p>
<p>I would like to think if everyone on a project team understands and likes the syntax, it would make sense to adopt it as convention especially when there are larger objects to be consumed. Especially since <em>graphql</em> in this case describes the shape of the expected object, it’s relatively easy to verify.</p>
<p>With the release of <a class="external-link" href="https://reactjs.org/docs/hooks-intro.html">react hooks</a>, destructuring snuck in as well.</p>
<h2 id="what-to-watch-out-for">What to watch out for</h2>
<p>There are a couple of things coming to mind thinking what could go wrong.<br>
Here are a few.</p>
<p>Confusion from shared syntax with ES Modules: <code class="language-text">import { useState } from &quot;react&quot;</code> might look like destructuring at first, but it’s not exactly the same.<br>
Stolen directly from <a class="external-link" href="https://github.com/babel/babel/issues/4996">babel</a>: “ES2015 named imports do not destructure. Use another statement for destructuring after the import.”</p>
<p>Confusing Syntax tree: The code below fails during function declaration.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">containsError</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> somethingElse <span class="token punctuation">}</span> <span class="token operator">=</span> o <span class="token comment">//works</span>
  something <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">//works</span>
  <span class="token punctuation">{</span> somethingUndeclared <span class="token punctuation">}</span> <span class="token operator">=</span> o <span class="token comment">//Uncaught SyntaxError: Unexpected token '='</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We could assign the variable <code class="language-text">something = 5</code>, although it was undeclared, because it is implicitly put in the <em>global scope</em>. This is a risky side-effect and should not be done.<br>
If we ignore that riskiness and try to do the same for <code class="language-text">{ somethingUndeclared } = o</code> it will fail. The reason it fails is, because <code class="language-text">{ something Undeclared }</code> is not being evaluated as a <em>left-hand-side value</em> but as a <em>block</em>. If we put parentheses like so <code class="language-text">({ somethingUndeclared } = o)</code> it will be evaluated as an expression and will also assign to the <em>global scope</em>.</p>
<p>Changing properties, mistaken immutability: JS is pass-by-value. When passing something other than the <a class="external-link" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive">primitives</a>, the <em>value</em> assigned is the <em>reference</em> to said object.<br>
Since only <em>primitives</em> are immutable and as such a copy, the properties on referenced objects can be changed. The value of the calling scopes variable cannot be changed. The variable contains a <em>value</em> as <em>reference</em> not a <em>pointer</em>.<br>
On the same note: if new nested arrays or objects are created by spreading, they will still reference the former objects nested objects. Spreading is not a deep copy.</p>
<p>Huge destructurings: Might be a sign of too much data and probably also too many concerns handled by a single component.<br>
If destructuring becomes overwhelming, it might be time to refactor something out.</p>
<p>Future ES-proposals: Overdoing destructuring with default values might get in the way of adopting upcoming features like <a class="external-link" href="https://github.com/tc39/proposal-optional-chaining">optional chaining</a> and <a class="external-link" href="https://github.com/tc39/proposal-nullish-coalescing">nullish coalescing</a>. Jumping on the bandwagon can always be fun, but sometime also be overdone.<br>
Personally I’m looking forward to new features and I’ll be sure to try them out, while learning about them along the way.</p></div><hr style="margin-bottom:1.75rem"/><ul style="margin-bottom:0;display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/animating-background-gradients/">← <!-- -->Animated random background gradients</a></li><li></li></ul></main><footer class="card"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;margin-right:0.875rem;margin-bottom:0;min-width:7rem;min-height:8.75rem;bottom:0;float:left;border-radius:0.4375rem;box-shadow:-12px -6px 36px 0 hsl(0, 0%, 100%), 4px 4px 14px -3.2px hsla(0, 0%, 79%, 1)"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAIDAQQF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgMAAf/aAAwDAQACEAMQAAAB8u+vZfKXKZbClYy//8QAHBAAAgICAwAAAAAAAAAAAAAAAQIAEQMSEyMx/9oACAEBAAEFAn6mVQBcyHZg5A5IZew8n//EABcRAQADAAAAAAAAAAAAAAAAAAABAhH/2gAIAQMBAT8Bo2qGy//EABgRAAIDAAAAAAAAAAAAAAAAAAACEBEh/9oACAECAQE/AW0qf//EAB0QAAEEAgMAAAAAAAAAAAAAAAIAARAREjEhMkH/2gAIAQEABj8CJh0SyzWijm11aGvyP//EABwQAAICAwEBAAAAAAAAAAAAAAABESExQXFR4f/aAAgBAQABPyF6DBHClN+Ia/ctBHunF6G4ZCabmcLg9ElR/9oADAMBAAIAAwAAABAPCH7/xAAaEQACAgMAAAAAAAAAAAAAAAAAARExIWGh/9oACAEDAQE/EIJ5NnCw5rP/xAAZEQABBQAAAAAAAAAAAAAAAAAAARARUXH/2gAIAQIBAT8QoMtCH//EAB8QAQADAAIBBQAAAAAAAAAAAAEAESFBUXExYYGRsf/aAAgBAQABPxDBSzsv1Dn1C4pFOSPW5Eti+7WMnAwlchBwFMKPPMtU4dqv7MLzGlsk/KpV5GNBZ//Z" alt="Michael Habeth" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/4b0d7fd3a036da4bff537266f967138c/f836f/profile-pic.jpg 200w,
/static/4b0d7fd3a036da4bff537266f967138c/2244e/profile-pic.jpg 400w,
/static/4b0d7fd3a036da4bff537266f967138c/14b42/profile-pic.jpg 800w,
/static/4b0d7fd3a036da4bff537266f967138c/47498/profile-pic.jpg 1200w,
/static/4b0d7fd3a036da4bff537266f967138c/30fda/profile-pic.jpg 1321w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/4b0d7fd3a036da4bff537266f967138c/f836f/profile-pic.jpg 200w,
/static/4b0d7fd3a036da4bff537266f967138c/2244e/profile-pic.jpg 400w,
/static/4b0d7fd3a036da4bff537266f967138c/14b42/profile-pic.jpg 800w,
/static/4b0d7fd3a036da4bff537266f967138c/47498/profile-pic.jpg 1200w,
/static/4b0d7fd3a036da4bff537266f967138c/30fda/profile-pic.jpg 1321w" src="/static/4b0d7fd3a036da4bff537266f967138c/14b42/profile-pic.jpg" alt="Michael Habeth" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Personal site and blog of <strong>Michael Habeth</strong>.</p><p>I like to create stuff and in my spare time I enjoy reading, drinking coffee or building stuff humanity most definitely didn&#x27;t need in the first place.</p><p style="margin-bottom:0">You can message me on <!-- --> <a class="external-link" href="https://keybase.io/sheb">keybase</a>, <!-- --> <a class="external-link" href="https://twitter.com/shebtastic">twitter</a>, or write me a <!-- --> <a class="external-link" href="mailto:michael@sheb.rocks?subject=Tell%20me%20more!&amp;body=I&#x27;m%20interested%20in%20%3C%20training%20%7C%20speaking%20%7C%20workshops%20%7C%20other-opportunities%20%3E%20on%20the%20topic%20of%20%3C%20topic%20%3E.%0A%0ADescription:%20%0AContact:%0A">mail</a>.</p><div style="clear:both"></div><hr/>© <!-- -->2021<!-- -->, Built with<!-- --> <a class="external-link" href="https://www.gatsbyjs.org" rel="noopener noreferrer">Gatsby</a>.<!-- --> <!-- -->Hosted on<!-- --> <a class="external-link" href="https://www.pages.github.com" rel="noopener noreferrer">GitHub Pages</a>.<br/>All the websites code can be found on this<!-- --> <a class="external-link" href="https://www.github.com/shebtastic/sheb.rocks" rel="noopener noreferrer">GitHub Repo</a>.<br/><br/>You can <a href="/cv">find my CV here</a>.<hr/><a href="/imprint">Imprint (Impressum)</a> <a href="/dataprivacy">Data Privacy Policy (Datenschutzerklärung)</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/javascript-destructuring/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-ca2f5befc4ff6734fcdd.js"],"app":["/app-645b67282b615fc15fff.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3e3cb1b7259d63a1f789.js"],"component---src-pages-cv-js":["/component---src-pages-cv-js-68ce7f6eaa2a1f5fa976.js"],"component---src-pages-dataprivacy-js":["/component---src-pages-dataprivacy-js-43cc98eba20c52224ad8.js"],"component---src-pages-imprint-js":["/component---src-pages-imprint-js-0632e94072896b6f852f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-bded72cb91bc9c66d9d3.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-06ac3d04ab480aba78cc.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-a894d537987971cfbea1.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-dfffc0871527c85c95b2.js"]};/*]]>*/</script><script src="/polyfill-ca2f5befc4ff6734fcdd.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-a894d537987971cfbea1.js" async=""></script><script src="/ba13057dd6ef35feb6701f6a92c63e41c4ae4823-aad2a2b75ffa58357cfb.js" async=""></script><script src="/commons-76afa141c8b5a2bda2e8.js" async=""></script><script src="/app-645b67282b615fc15fff.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/styles-e383b929d2d4095ae339.js" async=""></script><script src="/webpack-runtime-9ac427abb09d4be9c9a3.js" async=""></script></body></html>